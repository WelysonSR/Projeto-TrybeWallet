(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{29:function(e,t,a){},34:function(e,t,a){e.exports=a(54)},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),i=a(22),o=a(8),u=a(15),s=a(32),m=a(33),d=a(7),h={email:""};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_USER":return Object(d.a)(Object(d.a)({},e),{},{email:t.state});default:return e}},b=a(26),f={currencies:[],expenses:[],sum:0,itemEdit:{edit:!1,item:{}}};var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_WALLTMOEDA":return Object(d.a)(Object(d.a)({},e),{},{currencies:t.state});case"NEW_WALLTSAVE":return Object(d.a)(Object(d.a)({},e),{},{expenses:[].concat(Object(b.a)(e.expenses),[t.state])});case"NEW_WALLTSUM":return Object(d.a)(Object(d.a)({},e),{},{sum:t.state});case"REMOVE_ITEM":return Object(d.a)(Object(d.a)({},e),{},{expenses:t.state});case"EDIT_ITEM":return Object(d.a)(Object(d.a)({},e),{},{itemEdit:t.state});case"UPDATE_ITEM":return Object(d.a)(Object(d.a)({},e),{},{expenses:Object(b.a)(t.state)});default:return e}},E=Object(u.combineReducers)({user:p,wallet:v}),g=Object(u.createStore)(E,Object(s.composeWithDevTools)(Object(u.applyMiddleware)(m.a))),y=a(2),j=a(16),O=a(3),x=a(4),C=a(10),N=a(6),w=a(5),k=a(14),S=a.n(k),T=a(18),W=function(e){return{type:"NEW_WALLTSUM",state:e}},V=function(e){return{type:"EDIT_ITEM",state:e}};a(44);var D=function(e){Object(N.a)(a,e);var t=Object(w.a)(a);function a(){var e;return Object(O.a)(this,a),(e=t.call(this)).state={email:"",password:"",enableButton:!0},e.handleChange=e.handleChange.bind(Object(C.a)(e)),e.validiteitButton=e.validiteitButton.bind(Object(C.a)(e)),e.buttonLogin=e.buttonLogin.bind(Object(C.a)(e)),e}return Object(x.a)(a,[{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.name,r=a.value;this.setState(Object(j.a)({},n,r),(function(){return t.validiteitButton()}))}},{key:"validiteitButton",value:function(){var e=this.state,t=e.email;e.password.length>=6&&/\S+@\S+\.\S+/.test(t)?this.setState({enableButton:!1}):this.setState({enableButton:!0})}},{key:"buttonLogin",value:function(){var e=this.props,t=e.history.push;(0,e.infoUser)(this.state.email),t("/carteira")}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.enableButton;return r.a.createElement("section",{className:"container-login"},r.a.createElement("h1",null,"TRYBEWALLET"),r.a.createElement("form",null,r.a.createElement("input",{type:"email",name:"email",value:t,className:"form-control form-login",placeholder:"Digite seu email",onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",value:a,className:"form-control form-login",placeholder:"Digite seu senha",onChange:this.handleChange}),r.a.createElement("input",{type:"button",value:"Entrar",className:"btn btn-info btn-login",disabled:n,onClick:this.buttonLogin})))}}]),a}(r.a.Component),M=Object(o.b)(null,(function(e){return{infoUser:function(t){return e(function(e){return{type:"NEW_USER",state:e}}(t))}}}))(D),L=(a(45),function(e){Object(N.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).print=function(){var t=e.props,a=t.expenses,n=t.getSum;return 0===a.length?0:n},e}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.expenses,a=e.sumWallet,n=0;t.forEach((function(e){var t=e.value,a=e.currency,r=e.exchangeRates[a].ask;n+=Number(t)*Number(r)})),a(n)}},{key:"render",value:function(){var e=this.props,t=e.emailUser,a=e.expenses;return r.a.createElement("header",null,r.a.createElement("h1",{className:"logo"},"TrybeWallet"),a&&r.a.createElement("div",{className:"info-user"},r.a.createElement("p",{className:"user-email"},t),r.a.createElement("p",null,this.print()),r.a.createElement("p",null,"BRL")))}}]),a}(r.a.Component)),A=Object(o.b)((function(e){return{emailUser:e.user.email,expenses:e.wallet.expenses,getSum:e.wallet.sum}}),(function(e){return{sumWallet:function(t){return e(W(t))}}}))(L);function R(){return(R=Object(T.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=function(){return R.apply(this,arguments)},U=function(e){Object(N.a)(a,e);var t=Object(w.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.labelName,n=e.selectValue,l=e.value,c=e.funcao;return r.a.createElement("label",{htmlFor:t,className:"form-label"},a,r.a.createElement("select",{name:t,id:t,value:l,onChange:c,className:"form-select"},n.length>0&&n.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))}}]),a}(r.a.Component),B=(a(29),function(e){Object(N.a)(a,e);var t=Object(w.a)(a);function a(){var e;return Object(O.a)(this,a),(e=t.call(this)).state={metodoPagamento:["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"],tagValue:["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"],value:0,currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",description:""},e.handleChange=e.handleChange.bind(Object(C.a)(e)),e.addItem=e.addItem.bind(Object(C.a)(e)),e.sumValue=e.sumValue.bind(Object(C.a)(e)),e}return Object(x.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(j.a)({},a,n))}},{key:"sumValue",value:function(e){var t=this.props,a=t.getSum,n=t.sumWallet,r=this.state,l=r.currency,c=r.value,i=e[l];if("BRL"!==l){var o=Number(c)*Number(i.ask),u=Number(a)+o,s=Math.pow(10,2);n(Math.floor(u*s)/s)}}},{key:"addItem",value:function(){var e=Object(T.a)(S.a.mark((function e(){var t,a,n,r,l,c,i,o,u,s,m;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.getExpenses,n=t.saveWallet,r=this.state,l=r.value,c=r.currency,i=r.method,o=r.tag,u=r.description,e.next=4,I();case 4:s=e.sent,m={id:a<=0?0:a.length,value:l,currency:c,method:i,tag:o,description:u,exchangeRates:s},this.sumValue(s,l,c),this.setState({value:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",description:""}),n(m);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.value,a=e.currency,n=e.method,l=e.tag,c=e.description,i=e.metodoPagamento,o=e.tagValue,u=this.props.walletCoin;return r.a.createElement("form",{className:"form-description"},r.a.createElement("label",{htmlFor:"valor",className:"form-label"},"Valor:",r.a.createElement("input",{type:"number",value:t,name:"value",id:"value",className:"form-control",onChange:this.handleChange})),r.a.createElement(U,{value:a,label:"currency",labelName:"Moeda:",selectValue:u,funcao:this.handleChange}),r.a.createElement(U,{value:n,label:"method",labelName:"M\xe9todo de pagamento:",testid:"method-input",selectValue:i,funcao:this.handleChange}),r.a.createElement(U,{value:l,label:"tag",labelName:"Tag:",testid:"tag-input",selectValue:o,funcao:this.handleChange}),r.a.createElement("label",{htmlFor:"description",className:"form-label"},"Description",r.a.createElement("input",{type:"text",value:c,name:"description",className:"form-control description",onChange:this.handleChange})),r.a.createElement("input",{type:"button",value:"Adicionar despesa",className:"btn btn-primary btn-add",onClick:this.addItem}))}}]),a}(r.a.Component)),_=Object(o.b)((function(e){return{walletCoin:e.wallet.currencies,getExpenses:e.wallet.expenses,getSum:e.wallet.sum}}),(function(e){return{saveWallet:function(t){return e(function(e){return{type:"NEW_WALLTSAVE",state:e}}(t))},sumWallet:function(t){return e(W(t))}}}))(B),F=(a(46),function(e){Object(N.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).subtractionValue=function(t){var a=e.props,n=a.getSum,r=a.sumWallet,l=t.value*t.exchangeRates[t.currency].ask;r(Number(n-l).toFixed(2))},e.removeItem=function(t){var a=e.props,n=a.getExpenses,r=a.removeSelectedItem,l=n.filter((function(e){return e.id!==t.id}));e.subtractionValue(t),r(l)},e.editItem=function(t){var a=t.id,n=e.props,r=n.getExpenses,l=n.itemEdit,c=n.editExpense,i={edit:!0,item:r.find((function(e){return e.id===a}))};c("editar"),l(i)},e}return Object(x.a)(a,[{key:"render",value:function(){var e=this,t=this.props.getExpenses;return r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.tag),r.a.createElement("td",null,t.method),r.a.createElement("td",null,Number(t.value).toFixed(2)),r.a.createElement("td",null,t.exchangeRates[t.currency].name),r.a.createElement("td",null,Number(t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",null,Number(t.value*t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("input",{type:"button",value:"Editar",className:"btn btn-warning",onClick:function(){return e.editItem(t)}}),r.a.createElement("input",{type:"button",value:"Deletar",className:"btn btn-danger",onClick:function(){return e.removeItem(t)}})))}))))}}]),a}(r.a.Component)),P=Object(o.b)((function(e){return{getExpenses:e.wallet.expenses,getSum:e.wallet.sum}}),(function(e){return{removeSelectedItem:function(t){return e(function(e){return{type:"REMOVE_ITEM",state:e}}(t))},sumWallet:function(t){return e(W(t))},itemEdit:function(t){return e(V(t))}}}))(F),z=function(e){Object(N.a)(a,e);var t=Object(w.a)(a);function a(){var e;return Object(O.a)(this,a),(e=t.call(this)).state={metodoPagamento:["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"],tagValue:["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"],value:0,currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",description:"",id:"",exchangeRates:""},e.handleChange=e.handleChange.bind(Object(C.a)(e)),e.edit=e.edit.bind(Object(C.a)(e)),e}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.itemToBeEdited.item,t=e.value,a=e.currency,n=e.method,r=e.tag,l=e.description,c=e.id,i=e.exchangeRates;this.setState({value:t,currency:a,method:n,tag:r,description:l,id:c,exchangeRates:i})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(j.a)({},a,n))}},{key:"sumValue",value:function(){var e=this.props,t=e.sumWallet,a=e.getExpenses.reduce((function(e,t){return e+t.exchangeRates[t.currency].ask*t.value}),0);t(Number(a).toFixed(2))}},{key:"edit",value:function(){var e=this.props,t=e.itemEdit,a=e.getExpenses,n=e.itemUpdate,r=e.editExpense,l=this.state,c=l.id,i={id:c,value:l.value,currency:l.currency,method:l.method,tag:l.tag,description:l.description,exchangeRates:l.exchangeRates};a[c]=i,n(a),r(),t({edit:!1,item:{}}),this.sumValue()}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.currency,n=e.method,l=e.tag,c=e.description,i=e.metodoPagamento,o=e.tagValue,u=this.props.walletCoin;return r.a.createElement("form",{className:"form-description"},r.a.createElement("label",{htmlFor:"valor",className:"form-label"},"Valor:",r.a.createElement("input",{type:"number",value:t,name:"value",id:"value",className:"form-control",onChange:this.handleChange})),r.a.createElement(U,{value:a,label:"currency",labelName:"Moeda:",testid:"currency-input",selectValue:u,funcao:this.handleChange}),r.a.createElement(U,{value:n,label:"method",labelName:"M\xe9todo de pagamento:",testid:"method-input",selectValue:i,funcao:this.handleChange}),r.a.createElement(U,{value:l,label:"tag",labelName:"Tag:",testid:"tag-input",selectValue:o,funcao:this.handleChange}),r.a.createElement("label",{htmlFor:"description",className:"form-label"},"Description",r.a.createElement("input",{type:"text",value:c,name:"description",className:"form-control description",onChange:this.handleChange})),r.a.createElement("input",{type:"button",value:"Editar despesa",onClick:this.edit,className:"btn btn-primary btn-add"}))}}]),a}(r.a.Component),J=Object(o.b)((function(e){return{getExpenses:e.wallet.expenses,walletCoin:e.wallet.currencies,itemToBeEdited:e.wallet.itemEdit,getSum:e.wallet.sum}}),(function(e){return{itemEdit:function(t){return e(V(t))},itemUpdate:function(t){return e(function(e){return{type:"UPDATE_ITEM",state:e}}(t))},sumWallet:function(t){return e(W(t))}}}))(z),Y=function(e){Object(N.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={edit:!1},e.editExpense=function(t){"editar"===t?e.setState({edit:!0}):e.setState({edit:!1})},e}return Object(x.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.walletCoin)()}},{key:"render",value:function(){var e=this.state.edit;return r.a.createElement("section",null,r.a.createElement(A,null),e?r.a.createElement(J,{editExpense:this.editExpense}):r.a.createElement(_,null),r.a.createElement(P,{editExpense:this.editExpense}))}}]),a}(r.a.Component),$=Object(o.b)((function(e){return{item:e.wallet.itemEdit}}),(function(e){return{walletCoin:function(){return e(function(){var e=Object(T.a)(S.a.mark((function e(t){var a,n,r,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,r=Object.entries(n),l=r.filter((function(e){return"USDT"!==e[0]})).map((function(e){return e[1].code})),t({type:"NEW_WALLTMOEDA",state:l});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(Y),q=(a(47),function(e){Object(N.a)(a,e);var t=Object(w.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){var e=this.props.history;return r.a.createElement("section",{className:"section-erro"},r.a.createElement("h1",{className:"h1-erro"},"Pagina n\xe3o encontrada"),r.a.createElement("input",{type:"button",value:"Login",className:"btn btn-primary",onClick:function(){return e.push("/")}}))}}]),a}(r.a.Component));var G=function(){return r.a.createElement(y.c,null,r.a.createElement(y.a,{exact:!0,path:"/",component:M}),r.a.createElement(y.a,{exact:!0,path:"/carteira",component:$}),r.a.createElement(y.a,{exact:!0,path:"*",component:q}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(53);c.a.render(r.a.createElement(o.a,{store:g},r.a.createElement(i.a,null,r.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.49f43228.chunk.js.map